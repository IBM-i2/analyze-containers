<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>client_functions.sh </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="client_functions.sh ">
    <meta name="generator" content="docfx 2.56.2.0">
    
    <link rel="shortcut icon" href="../../../../images/favicon.png">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../index.html">
                i2 Analyze Containers
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
          
          <div class="subnav navbar navbar-default">
            <div class="container hide-when-search" id="breadcrumb">
              <ul class="breadcrumb">
                <li></li>
              </ul>
            </div>
          </div>
            <article class="content wrap" id="_content" data-uid="">
<h1 id="clientfunctionssh">client_functions.sh</h1>

<p>A set of client functions that you can use to perform actions against the server components of i2 Analyze.</p>
<h2 id="overview">Overview</h2>
<p>The list of client functions groups:</p>
<ul>
<li><a href="#environment-utilities">Environment Utilities</a></li>
<li><a href="#secret-utilities">Secret Utilities</a></li>
<li><a href="#status-utilities">Status Utilities</a></li>
<li><a href="#database-security-utilities">Database Security Utilities</a></li>
<li><a href="#execution-utilities">Execution Utilities</a></li>
<li><a href="#volume-utilities">Volume Utilities</a></li>
</ul>
<h2 id="index">Index</h2>
<ul>
<li><a href="#checkenvvarsareset">check_env_vars_are_set</a></li>
<li><a href="#getsecret">get_secret</a></li>
<li><a href="#getsolrstatus">get_solr_status</a></li>
<li><a href="#getasyncrequeststatus">get_async_request_status</a></li>
<li><a href="#waitforindexestobebuilt">wait_for_indexes_to_be_built</a></li>
<li><a href="#waitforconnectortobelive">wait_for_connector_to_be_live</a></li>
<li><a href="#changesapassword">change_sa_password</a></li>
<li><a href="#changepostgrespassword">change_postgres_password</a></li>
<li><a href="#createdbloginanduser">create_db_login_and_user</a></li>
<li><a href="#runsolrclientcommand">run_solr_client_command</a></li>
<li><a href="#runi2analyzetool">run_i2_analyze_tool</a></li>
<li><a href="#runi2analyzetoolasexternaluser">run_i2_analyze_tool_as_external_user</a></li>
<li><a href="#runsqlservercommandasetl">run_sql_server_command_as_etl</a></li>
<li><a href="#runpostgresservercommandasetl">run_postgres_server_command_as_etl</a></li>
<li><a href="#runpostgresservercommandasfirststartpostgres">run_postgres_server_command_as_first_start_postgres</a></li>
<li><a href="#runpostgresservercommandaspostgres">run_postgres_server_command_as_postgres</a></li>
<li><a href="#runpostgresservercommandasdba">run_postgres_server_command_as_dba</a></li>
<li><a href="#runpostgresservercommandasdbb">run_postgres_server_command_as_dbb</a></li>
<li><a href="#runsqlservercommandasfirststartsa">run_sql_server_command_as_first_start_sa</a></li>
<li><a href="#runsqlservercommandassa">run_sql_server_command_as_sa</a></li>
<li><a href="#runsqlservercommandasdba">run_sql_server_command_as_dba</a></li>
<li><a href="#runsqlservercommandasdbb">run_sql_server_command_as_dbb</a></li>
<li><a href="#runetltoolkittoolasi2etl">run_etl_toolkit_tool_as_i2_etl</a></li>
<li><a href="#runetltoolkittoolasdba">run_etl_toolkit_tool_as_dba</a></li>
<li><a href="#updatevolume">update_volume</a></li>
<li><a href="#getvolume">get_volume</a></li>
</ul>
<h2 id="environment-utilities">Environment utilities</h2>
<h3 id="checkenvvarsareset">check_env_vars_are_set</h3>
<p>Checks if all required environment variables are set.</p>
<p><em>Function has no arguments.</em></p>
<h2 id="secret-utilities">Secret utilities</h2>
<h3 id="getsecret">get_secret</h3>
<p>Gets a secret such as a password for a user.</p>
<h4 id="example">Example</h4>
<pre><code class="lang-bash">get_secret &quot;solr/ZK_DIGEST_PASSWORD&quot;
</code></pre><h4 id="arguments">Arguments</h4>
<ul>
<li><strong>$1</strong> (string): The partial path to secret</li>
</ul>
<h2 id="status-utilities">Status utilities</h2>
<h3 id="getsolrstatus">get_solr_status</h3>
<p>Get Solr component status from a certain point in time.</p>
<h4 id="example-1">Example</h4>
<pre><code class="lang-bash">status_message=&quot;$(get_solr_status &quot;${SINCE_TIMESTAMP}&quot;)&quot;
</code></pre><h4 id="arguments-1">Arguments</h4>
<ul>
<li><strong>$1</strong> (string): &quot;since&quot; timestamp for docker logs commands</li>
</ul>
<h4 id="output-on-stdout">Output on stdout</h4>
<ul>
<li>The status of the Solr component.</li>
</ul>
<h3 id="getasyncrequeststatus">get_async_request_status</h3>
<p>Takes a request to the Asynchronous Collection API and check the state is marked as completed
in the JSON response returned.
If the state is not marked as completed, the function returns the response message which contains
any error messages that are reported with the asynchronous request.
For more information about the Asynchronous Collection API, see <a href="https://lucene.apache.org/solr/guide/8_7/collections-api.html#requeststatus">REQUESTSTATUS: Request Status of an Async Call</a>.</p>
<h4 id="arguments-2">Arguments</h4>
<ul>
<li><strong>$1</strong> (string): The request id of the asynchronous request to get the status of.</li>
</ul>
<h4 id="output-on-stdout-1">Output on stdout</h4>
<ul>
<li>The JSON response or error messages.</li>
</ul>
<h3 id="waitforindexestobebuilt">wait_for_indexes_to_be_built</h3>
<p>Wait for the index to be build by running an admin request
against Solr API and checking the index is in the &quot;Ready&quot; state.</p>
<h4 id="example-2">Example</h4>
<pre><code class="lang-bash">wait_for_indexes_to_be_built &quot;match_index1&quot;
</code></pre><h4 id="arguments-3">Arguments</h4>
<ul>
<li><strong>$1</strong> (string): Index Name</li>
</ul>
<h4 id="exit-codes">Exit codes</h4>
<ul>
<li><strong>0</strong>: If index was built in 75 seconds.</li>
<li><strong>1</strong>: If index was NOT built in 75 seconds.</li>
</ul>
<h3 id="waitforconnectortobelive">wait_for_connector_to_be_live</h3>
<p>Sends a request to the connector&#39;s/config endpoint.
If the response is 200, the connector is live.
If the connector is not live after 10 retries the function will print an error and exit.</p>
<h4 id="arguments-4">Arguments</h4>
<ul>
<li><strong>$1</strong> (string): The fully qualified domain name of a connector</li>
<li><strong>$2</strong> (string): The configuration path of the connector</li>
</ul>
<h4 id="exit-codes-1">Exit codes</h4>
<ul>
<li><strong>0</strong>: If the connector is live.</li>
<li><strong>1</strong>: If the connector is not live after 10 retries.</li>
</ul>
<h4 id="output-on-stdout-2">Output on stdout</h4>
<ul>
<li>Retry attempts, error messages or success message.</li>
</ul>
<h2 id="database-security-utilities">Database Security Utilities</h2>
<h3 id="changesapassword">change_sa_password</h3>
<p>Change the initial password for the SA user.
Uses the generated secrets to call the change_sa_password.sh with the initial (generated)
sa password and the new (generated) password.
For more information, see <a href="../security%20and%20users/db_users.html#the-changesapassword-function">change_sa_password</a>.</p>
<p><em>Function has no arguments.</em></p>
<h3 id="changepostgrespassword">change_postgres_password</h3>
<p>Change the initial password for the postgres user.</p>
<p><em>Function has no arguments.</em></p>
<h3 id="createdbloginanduser">create_db_login_and_user</h3>
<p>Creates a database login and user for the provided user, and assigns the user to the provided role.
For more information, see <a href="../security%20and%20users/db_users.html#the-createdbloginanduser-function">create_db_login_and_user</a>.</p>
<h4 id="arguments-5">Arguments</h4>
<ul>
<li><strong>$1</strong> (string): The database user name</li>
<li><strong>$2</strong> (string): The database role name</li>
<li><strong>$3</strong> (string): The database dialect. Defaults to sqlserver</li>
</ul>
<h2 id="execution-utilities">Execution Utilities</h2>
<h3 id="runsolrclientcommand">run_solr_client_command</h3>
<p>Use an ephemeral Solr client container to run commands against Solr.
For more information about the environment variables and volume mounts that are required for the Solr client, see <a href="../images%20and%20containers/solr_client.html">Running a Solr client container</a>.
The run_solr_client_command function takes the command you want to run as an argument.
For more information about commands you can execute using the Solr zkcli, see <a href="https://lucene.apache.org/solr/guide/8_6/command-line-utilities.html">Solr ZK Command Line Utilities</a></p>
<h4 id="example-3">Example</h4>
<pre><code class="lang-bash">run_solr_client_command &quot;/opt/solr/server/scripts/cloud-scripts/zkcli.sh&quot; -zkhost &quot;${ZK_HOST}&quot; -cmd clusterprop -name urlScheme -val https
</code></pre><h4 id="arguments-6">Arguments</h4>
<ul>
<li><strong>...</strong> (string): The command you want to run on the Solr client container</li>
</ul>
<h4 id="exit-codes-2">Exit codes</h4>
<ul>
<li><strong>0</strong>: If command was executed successfully.</li>
<li><strong>1</strong>: If command was NOT executed successfully.</li>
</ul>
<h3 id="runi2analyzetool">run_i2_analyze_tool</h3>
<p>Run an ephemeral i2 Analyze Tool container to run the i2 Analyze tools.</p>
<h4 id="example-4">Example</h4>
<pre><code class="lang-bash">run_i2_analyze_tool &quot;/opt/i2-tools/scripts/updateSecuritySchema.sh&quot;
</code></pre><h4 id="arguments-7">Arguments</h4>
<ul>
<li><strong>...</strong> (string): Command you want to run on the i2 Analyze Tool container</li>
</ul>
<h4 id="exit-codes-3">Exit codes</h4>
<ul>
<li><strong>0</strong>: If command was executed successfully.</li>
<li><strong>1</strong>: If command was NOT executed successfully.</li>
</ul>
<h3 id="runi2analyzetoolasexternaluser">run_i2_analyze_tool_as_external_user</h3>
<p>Use an ephemeral i2 Analyze Tool container to run commands against the i2 Analyze service via the load balancer as an external user.
The container contains the required secrets to communicate with the i2 Analyze service from an external container.
For example, if you would like to send a Curl request to the load balancer stats endpoint, run:</p>
<h4 id="example-5">Example</h4>
<pre><code class="lang-bash">run_i2_analyze_tool_as_external_user bash -c &quot;curl \
      --silent \
      --cookie-jar /tmp/cookie.txt \
      --cacert /tmp/i2acerts/CA.cer \
      --request POST \&quot;${FRONT_END_URI}/j_security_check\&quot; \
      --header &#39;Origin: ${FRONT_END_URI}&#39; \
      --header &#39;Content-Type: application/x-www-form-urlencoded&#39; \
      --data-urlencode &#39;j_username=Jenny&#39; \
      --data-urlencode &#39;j_password=Jenny&#39; \
    &amp;&amp; curl \
      --silent \
      --cookie /tmp/cookie.txt \
      --cacert /tmp/i2acerts/CA.cer\
      \&quot;${FRONT_END_URI}/api/v1/admin/indexes/status\&quot;&quot;
</code></pre><h4 id="arguments-8">Arguments</h4>
<ul>
<li><strong>...</strong> (string): Command you want to run on the i2 Analyze Tool container</li>
</ul>
<h4 id="exit-codes-4">Exit codes</h4>
<ul>
<li><strong>0</strong>: If command was executed successfully.</li>
<li><strong>1</strong>: If command was NOT executed successfully.</li>
</ul>
<h3 id="runsqlservercommandasetl">run_sql_server_command_as_etl</h3>
<p>Uses an ephemeral SQL Client container to run database scripts or commands against the Information Store database as the etl user.
For more information about running a SQL Client container and the environment variables required for the container, see <a href="../images%20and%20containers/sql_client.html">SQL Client</a>.</p>
<h4 id="example-6">Example</h4>
<pre><code class="lang-bash">run_sql_server_command_as_etl bash -c &quot;/opt/mssql-tools/bin/sqlcmd -N -b -S \${DB_SERVER} -U \${DB_USERNAME} -P \${DB_PASSWORD} -d \${DB_NAME} -Q
\&quot;BULK INSERT IS_Staging.E_Person
FROM &#39;/var/i2a-data/law-enforcement-data-set-2-merge/person.csv&#39;
WITH (FORMATFILE = &#39;/var/i2a-data/law-enforcement-data-set-2-merge/sqlserver/format-files/person.fmt&#39;, FIRSTROW = 2)\&quot;&quot;
</code></pre><h4 id="arguments-9">Arguments</h4>
<ul>
<li><strong>...</strong> (string): Command you want to run on the SQL Client container</li>
</ul>
<h4 id="exit-codes-5">Exit codes</h4>
<ul>
<li><strong>0</strong>: If command was executed successfully.</li>
<li><strong>1</strong>: If command was NOT executed successfully.</li>
</ul>
<h3 id="runpostgresservercommandasetl">run_postgres_server_command_as_etl</h3>
<p>Uses an ephemeral Postgres Client container to run database scripts or commands against the Information Store database as the etl user.
For more information about running a Postgres Client container and the environment variables required for the container, see <a href="../images%20and%20containers/postgres_client.html">Postgres Client</a>.</p>
<h4 id="example-7">Example</h4>
<pre><code class="lang-bash">run_postgres_server_command_as_etl bash -c &quot;/usr/lib/postgresql/bin/psql -w -X -q --set=client_min_messages=warning -h \${DB_SERVER} -p \${DB_PORT} -d \${DB_NAME} -c
  \&quot;COPY IS_Staging.E_Person (source_id, p_description_of_mark, p_accent, p_aka, p_build, p_citizenship, p_date_of_birth,
  p_description, p_identification_number, p_eye_color,p_facial_hair, p_first_given_name, p_hair_color, p_hair_type,
  p_height_from, p_height_to, p_family_name, p_middle_name, p_additional_informatio, p_occupation, p_unique_reference,
  p_gender, source_ref_source_location, source_ref_source_type, source_ref_source_image_url)
FROM &#39;/var/i2a-data/law-enforcement-data-set-2-merge/person.csv&#39; CSV HEADER ENCODING &#39;UTF8&#39; NULL AS &#39;&#39;\&quot;&quot;
</code></pre><h4 id="arguments-10">Arguments</h4>
<ul>
<li><strong>...</strong> (string): Command you want to run on the SQL Client container</li>
</ul>
<h4 id="exit-codes-6">Exit codes</h4>
<ul>
<li><strong>0</strong>: If command was executed successfully.</li>
<li><strong>1</strong>: If command was NOT executed successfully.</li>
</ul>
<h3 id="runpostgresservercommandasfirststartpostgres">run_postgres_server_command_as_first_start_postgres</h3>
<p>Uses an ephemeral Postgres Client container to run database scripts or commands against the
Information Store database as the postgres user with the initial postgres password.
For more information about running a Postgres Client container and the environment variables required for the
container, see <a href="../images%20and%20containers/postgres_client.html">Postgres Client</a>.</p>
<h4 id="arguments-11">Arguments</h4>
<ul>
<li><strong>...</strong> (string): Command you want to run on the Postgres Client container</li>
</ul>
<h4 id="exit-codes-7">Exit codes</h4>
<ul>
<li><strong>0</strong>: If command was executed successfully.</li>
<li><strong>1</strong>: If command was NOT executed successfully.</li>
</ul>
<h3 id="runpostgresservercommandaspostgres">run_postgres_server_command_as_postgres</h3>
<p>Uses an ephemeral Postgres Client container to run database scripts or commands against the
Information Store database as the postgres user.
For more information about running a Postgres Client container and the environment variables required for the
container, see <a href="../images%20and%20containers/postgres_client.html">Postgres Client</a>.</p>
<h4 id="example-8">Example</h4>
<pre><code class="lang-bash">run_postgres_server_command_as_postgres &quot;/opt/i2-tools/scripts/database-creation/runStaticScripts.sh&quot;
</code></pre><h4 id="arguments-12">Arguments</h4>
<ul>
<li><strong>...</strong> (string): Command you want to run on the Postgres Client container</li>
</ul>
<h4 id="exit-codes-8">Exit codes</h4>
<ul>
<li><strong>0</strong>: If command was executed successfully.</li>
<li><strong>1</strong>: If command was NOT executed successfully.</li>
</ul>
<h3 id="runpostgresservercommandasdba">run_postgres_server_command_as_dba</h3>
<p>Uses an ephemeral Postgres Client container to run database scripts or commands against the
Information Store database as a dba user.
For more information about running a Postgres Client container and the environment variables required for the
container, see <a href="../images%20and%20containers/postgres_client.html">Postgres Client</a>.</p>
<h4 id="example-9">Example</h4>
<pre><code class="lang-bash">run_postgres_server_command_as_dba &quot;/opt/i2-tools/scripts/database-creation/runStaticScripts.sh&quot;
</code></pre><h4 id="arguments-13">Arguments</h4>
<ul>
<li><strong>...</strong> (string): Command you want to run on the Postgres Client container</li>
</ul>
<h4 id="exit-codes-9">Exit codes</h4>
<ul>
<li><strong>0</strong>: If command was executed successfully.</li>
<li><strong>1</strong>: If command was NOT executed successfully.</li>
</ul>
<h3 id="runpostgresservercommandasdbb">run_postgres_server_command_as_dbb</h3>
<p>Uses an ephemeral Postgres Client container to run database scripts or commands against the
Information Store database as the dbb (the backup operator) user.
For more information about running a Postgres Client container and the environment variables required for the
container, see <a href="../images%20and%20containers/postgres_client.html">Postgres Client</a>.</p>
<h4 id="example-10">Example</h4>
<pre><code class="lang-bash">run_postgres_server_command_as_dbb bash -c &quot;pg_dump &#39;/backup/istore.pgb&#39;&quot;
</code></pre><h4 id="arguments-14">Arguments</h4>
<ul>
<li><strong>...</strong> (string): Command you want to run on the Postgres Client container</li>
</ul>
<h4 id="exit-codes-10">Exit codes</h4>
<ul>
<li><strong>0</strong>: If command was executed successfully.</li>
<li><strong>1</strong>: If command was NOT executed successfully.</li>
</ul>
<h3 id="runsqlservercommandasfirststartsa">run_sql_server_command_as_first_start_sa</h3>
<p>Uses an ephemeral SQL Client container to run database scripts or commands against the
Information Store database as the sa user with the initial SA password.
For more information about running a SQL Client container and the environment variables required for the
container, see <a href="../images%20and%20containers/sql_client.html">SQL Client</a>.</p>
<h4 id="arguments-15">Arguments</h4>
<ul>
<li><strong>...</strong> (string): Command you want to run on the SQL Client container</li>
</ul>
<h4 id="exit-codes-11">Exit codes</h4>
<ul>
<li><strong>0</strong>: If command was executed successfully.</li>
<li><strong>1</strong>: If command was NOT executed successfully.</li>
</ul>
<h3 id="runsqlservercommandassa">run_sql_server_command_as_sa</h3>
<p>Uses an ephemeral SQL Client container to run database scripts or commands against the
Information Store database as the SA user.
For more information about running a SQL Client container and the environment variables required for the
container, see <a href="../images%20and%20containers/sql_client.html">SQL Client</a>.</p>
<h4 id="example-11">Example</h4>
<pre><code class="lang-bash">run_sql_server_command_as_sa &quot;/opt/i2-tools/scripts/database-creation/runStaticScripts.sh&quot;
</code></pre><h4 id="arguments-16">Arguments</h4>
<ul>
<li><strong>...</strong> (string): Command you want to run on the SQL Client container</li>
</ul>
<h4 id="exit-codes-12">Exit codes</h4>
<ul>
<li><strong>0</strong>: If command was executed successfully.</li>
<li><strong>1</strong>: If command was NOT executed successfully.</li>
</ul>
<h3 id="runsqlservercommandasdba">run_sql_server_command_as_dba</h3>
<p>Uses an ephemeral SQL Client container to run database scripts or commands against the
Information Store database as the dba user.
For more information about running a SQL Client container and the environment variables required for the
container, see <a href="../images%20and%20containers/sql_client.html">SQL Client</a>.</p>
<h4 id="example-12">Example</h4>
<pre><code class="lang-bash">run_sql_server_command_as_dba &quot;/opt/i2-tools/scripts/clearInfoStoreData.sh&quot;
</code></pre><h4 id="arguments-17">Arguments</h4>
<ul>
<li><strong>...</strong> (string): Command you want to run on the SQL Client container</li>
</ul>
<h4 id="exit-codes-13">Exit codes</h4>
<ul>
<li><strong>0</strong>: If command was executed successfully.</li>
<li><strong>1</strong>: If command was NOT executed successfully.</li>
</ul>
<h3 id="runsqlservercommandasdbb">run_sql_server_command_as_dbb</h3>
<p>Uses an ephemeral SQL Client container to run database scripts or commands against the
Information Store database as the dbb (the backup operator) user.
For more information about running a SQL Client container and the environment variables required for the
container, see <a href="../images%20and%20containers/sql_client.html">SQL Client</a>.</p>
<h4 id="example-13">Example</h4>
<pre><code class="lang-bash">run_sql_server_command_as_dbb bash -c &quot;/opt/mssql-tools/bin/sqlcmd -N -b -C -S sqlserver.eia,1433 -U \&quot;\${DB_USERNAME}\&quot; -P \&quot;\${DB_PASSWORD}\&quot; \
  -Q \&quot;USE ISTORE;
  BACKUP DATABASE ISTORE
  TO DISK = &#39;/backup/istore.bak&#39;
     WITH FORMAT;\&quot;&quot;
</code></pre><h4 id="arguments-18">Arguments</h4>
<ul>
<li><strong>...</strong> (string): Command you want to run on the SQL Client container</li>
</ul>
<h4 id="exit-codes-14">Exit codes</h4>
<ul>
<li><strong>0</strong>: If command was executed successfully.</li>
<li><strong>1</strong>: If command was NOT executed successfully.</li>
</ul>
<h3 id="runetltoolkittoolasi2etl">run_etl_toolkit_tool_as_i2_etl</h3>
<p>Uses an ephemeral ETL toolkit container to run ETL toolkit tasks against the
Information Store using the i2 ETL user credentials.
For more information about running the ETL Client container and the environment variables required for the container, see <a href="../images%20and%20containers/etl_client.html">ETL Client</a>.
For more information about running the ETL toolkit container and the tasks that you can run, see <a href="../tools%20and%20functions/etl_tools.html">ETL Tools</a></p>
<h4 id="example-14">Example</h4>
<pre><code class="lang-bash">run_etl_toolkit_tool_as_i2_etl bash -c &quot;/opt/i2/etltoolkit/addInformationStoreIngestionSource --ingestionSourceName EXAMPLE_1 --ingestionSourceDescription EXAMPLE_1&quot;
</code></pre><h4 id="arguments-19">Arguments</h4>
<ul>
<li><strong>...</strong> (string): Command you want to run on the ETL Toolkit container</li>
</ul>
<h4 id="exit-codes-15">Exit codes</h4>
<ul>
<li><strong>0</strong>: If command was executed successfully.</li>
<li><strong>1</strong>: If command was NOT executed successfully.</li>
</ul>
<h3 id="runetltoolkittoolasdba">run_etl_toolkit_tool_as_dba</h3>
<p>Uses an ephemeral ETL toolkit container to run ETL toolkit tasks against the
Information Store using the DBA user credentials.
For more information about running the ETL Client container and the environment variables required for the container, see <a href="../images%20and%20containers/etl_client.html">ETL Client</a>.
For more information about running the ETL toolkit container and the tasks that you can run, see <a href="../tools%20and%20functions/etl_tools.html">ETL Tools</a></p>
<h4 id="example-15">Example</h4>
<pre><code class="lang-bash">run_etl_toolkit_tool_as_dba bash -c &quot;/opt/i2/etltoolkit/addInformationStoreIngestionSource --ingestionSourceName EXAMPLE_1 --ingestionSourceDescription EXAMPLE_1&quot;
</code></pre><h4 id="arguments-20">Arguments</h4>
<ul>
<li><strong>...</strong> (string): Command you want to run on the ETL Toolkit container</li>
</ul>
<h4 id="exit-codes-16">Exit codes</h4>
<ul>
<li><strong>0</strong>: If command was executed successfully.</li>
<li><strong>1</strong>: If command was NOT executed successfully.</li>
</ul>
<h2 id="volume-utilities">Volume utilities</h2>
<h3 id="updatevolume">update_volume</h3>
<p>Uses an ephemeral Red Hat UBI Docker image to update a volume with the contents of a local directory.
For example, to update the the run/secrets directory in the liberty1_secrets volume with the content of the local /dev-environment-secrets/simulated-secret-store directory, run:</p>
<h4 id="example-16">Example</h4>
<pre><code class="lang-bash">update_volume &quot;/dev-environment-secrets/simulated-secret-store&quot; &quot;liberty1_secrets&quot; &quot;/run/secrets&quot;
</code></pre><h4 id="arguments-21">Arguments</h4>
<ul>
<li><strong>$1</strong> (string): The local directory on your machine.</li>
<li><strong>$2</strong> (string): The volume name.</li>
<li><strong>$3</strong> (string): The directory inside the volume.</li>
</ul>
<h3 id="getvolume">get_volume</h3>
<p>Uses an ephemeral Red Hat UBI Docker image to update a local directory with the contents of a specified volume.
For example, to get the contents from the run/secrets directory in the liberty1_secrets volume into your local /dev-environment-secrets/simulated-secret-store directory, run:</p>
<h4 id="example-17">Example</h4>
<pre><code class="lang-bash">get_volume &quot;/dev-environment-secrets/simulated-secret-store&quot; &quot;liberty1_secrets&quot; &quot;/run/secrets&quot;
</code></pre><h4 id="arguments-22">Arguments</h4>
<ul>
<li><strong>$1</strong> (string): The local directory on your machine.</li>
<li><strong>$2</strong> (string): The volume name.</li>
<li><strong>$3</strong> (string): The directory inside the volume.</li>
</ul>
<!-- markdownlint-configure-file { "MD024": false } -->
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            &copy; N. Harris Computer Corporation (2022-2023)
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
