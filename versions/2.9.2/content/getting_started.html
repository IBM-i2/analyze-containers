<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Getting started with the analyze-containers repository </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Getting started with the analyze-containers repository ">
    <meta name="generator" content="docfx 2.56.2.0">
    
    <link rel="shortcut icon" href="../../../images/favicon.png">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                i2 Analyze Deployment Tooling
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
          
          <div class="subnav navbar navbar-default">
            <div class="container hide-when-search" id="breadcrumb">
              <ul class="breadcrumb">
                <li></li>
              </ul>
            </div>
          </div>
            <article class="content wrap" id="_content" data-uid="">
<h1 id="getting-started-with-the-analyze-containers-repository">Getting started with the analyze-containers repository</h1>

<h2 id="prerequisites">Prerequisites</h2>
<p>You can run the code in the analyze-containers repository on Windows with Windows Subsystem for Linux and MacOS.
The system requires being connected to the internet to download required repositories. If you are running the project
from an environment without an internet connection, see <a href="reference-architecture/external_dependencies.html">External dependencies</a>.</p>
<h3 id="windows-subsystem-for-linux-wsl">Windows Subsystem for Linux (WSL)</h3>
<p>If you are on <strong>Windows</strong>, you must use WSL 2 as the backend for Docker and to run the shell scripts in this repository.</p>
<ol>
<li><p>In an administrator Command Prompt, run the following command:</p>
<pre><code class="lang-cmd">wsl --install
</code></pre></li>
<li><p>Restart your machine to complete the installation.</p>
</li>
<li>After you restart, open the distribution. Press <strong>Start -&gt; wsl</strong></li>
<li>You will be asked to create a User Name and Password for your Linux distribution.<br> For more information, see <a href="https://docs.microsoft.com/en-gb/windows/wsl/setup/environment#set-up-your-linux-username-and-password">Set up your Linux username and password</a>.</li>
<li>Ensure you can access the WSL filesystem from Windows explorer. In the address bar you can use <code>\\wsl.localhost\Ubuntu</code>. Additionally it is displayed in the Quick Access Toolbar, for example:<br> <img src="../images/filesystem.png" alt="Windows Quick Access Toolbar"></li>
</ol>
<h3 id="docker">Docker</h3>
<ol>
<li><p>Install Docker Desktop for your operating system. For more information about installing Docker Desktop, see <a href="https://docs.docker.com/engine/install/#desktop">https://docs.docker.com/engine/install/#desktop</a>.</p>
<ul>
<li><em>Windows</em> : <a href="https://docs.docker.com/desktop/wsl/">Docker Desktop WSL 2 backend on Windows</a></li>
<li><em>Mac OS</em> : <a href="https://docs.docker.com/desktop/install/mac-install/">Install Docker Desktop on Mac</a></li>
</ul>
</li>
<li><p>After you install Docker, allocate at least 5GB of memory to Docker to run the containers in the example deployment.</p>
<p> On Windows, Docker is automatically allocated 8GB or 50% of available memory whichever is less.</p>
<p> For more information about modifying the resources allocated to Docker, see:</p>
<ul>
<li><a href="https://docs.docker.com/desktop/settings/windows/#resources">Docker Desktop for Windows</a></li>
<li><a href="https://docs.docker.com/docker-for-mac/#resources">Docker Desktop for Mac</a></li>
</ul>
</li>
</ol>
<p>Keep your Docker Desktop up-to-date as you use your system to ensure you receive stability, feature, and security updates.</p>
<h3 id="code">Code</h3>
<ol>
<li>Download the <code>tar.gz</code> from <a href="https://github.com/i2group/analyze-containers/releases/tag/v2.9.2">https://github.com/i2group/analyze-containers/releases/tag/v2.9.2</a>.</li>
<li><p>Extract the <code>tar.gz</code> file by using the following steps:</p>
<ol>
<li>On Windows, copy the <code>analyze-containers-2.9.2.tar.gz</code> file to your WSL filesystem. For example: <code>\\wsl.localhost\Ubuntu\home\&lt;user&gt;</code></li>
<li><p>Extract the <code>tar.gz</code> file (On Windows, run the commands from a WSL terminal. <strong>Start</strong> &gt; <strong>wsl</strong>):</p>
<pre><code class="lang-sh">cd /home/&lt;user&gt;
</code></pre><pre><code class="lang-sh">tar -xzf analyze-containers-2.9.2.tar.gz
</code></pre><pre><code class="lang-sh">mv analyze-containers-2.9.2/ analyze-containers
</code></pre></li>
</ol>
</li>
</ol>
<h3 id="i2-analyze-minimal-toolkit">i2 Analyze minimal toolkit</h3>
<ol>
<li>Download the i2 Analyze V4.4.3 Minimal for Linux.<ul>
<li>To download i2 Analyze, follow the procedure described in <a href="https://support.i2group.com/s/article/2290">Where can I download the latest i2 Products?</a></li>
<li>Populate the subject of the form with <code>Request for i2 Analyze 4.4.3 minimal toolkit for Linux</code>.</li>
</ul>
</li>
<li>Rename the <code>i2analyzeMinimal_443.tar.gz</code> file to <code>i2analyzeMinimal.tar.gz</code>, then copy it to the <code>analyze-containers/pre-reqs</code> directory.</li>
</ol>
<p><strong>Note:</strong></p>
<ul>
<li>If you used the <code>analyze-containers</code> repository with a previous version of i2 Analyze, overwrite the existing minimal toolkit.</li>
<li>To deploy a fix pack, download the minimal toolkit version of the fix pack and complete Step 2 above.</li>
</ul>
<h3 id="analysts-notebook-premium">Analyst&#39;s Notebook Premium</h3>
<ol>
<li><p>Download <em>i2 Analyst&#39;s Notebook Premium</em> version 10.0.0.</p>
<ul>
<li>To download i2 Analyst&#39;s Notebook Premium, follow the procedure described in <a href="https://support.i2group.com/s/article/2290">Where can I download the latest i2 Products?</a></li>
<li>Populate the subject of the form with <code>Request for i2 Analyst&#39;s Notebook Premium 10.0.0</code>.</li>
</ul>
</li>
<li><p>Install i2 Analyst&#39;s Notebook Premium on a Windows machine.
<strong>Note</strong>: Ensure that you choose to install <code>i2 Analyze Schema Designer</code> as part of the installation process.</p>
<blockquote><p>Note: If you are running Docker on MacOS, you can install Analyst&#39;s Notebook Premium on a Windows virtual machine.</p>
</blockquote>
<p> For more information, see <a href="https://docs.i2group.com/anbp/10.0.1/installing_anbp.html">Installing i2 Analyst&#39;s Notebook Premium</a>.</p>
</li>
</ol>
<h3 id="modifying-the-hosts-file">Modifying the hosts file</h3>
<p>To enable you to connect to a deployment, the Solr Web UI, the database, the Prometheus Web UI and grafana, update your hosts file to include entries for the containers.</p>
<ol>
<li><p>Run the following commands to update the <code>hosts</code> file for your operating system:</p>
<ul>
<li>On <strong>Windows</strong>, open an Administrator Command Prompt and run <code>Notepad.exe C:\Windows\System32\drivers\etc\hosts</code> to edit the hosts file.</li>
<li>On <strong>MacOS</strong>, run <code>sudo vi /etc/hosts</code> to edit the hosts.</li>
</ul>
</li>
<li><p>Add the following lines to your <code>hosts</code> file:</p>
<pre><code class="lang-sh">127.0.0.1 solr1.eia
127.0.0.1 sqlserver.eia
127.0.0.1 postgres.eia
127.0.0.1 i2analyze.eia
127.0.0.1 prometheus.eia
127.0.0.1 grafana.eia
</code></pre></li>
</ol>
<p>If you deploy on <strong>MacOS</strong>, for your virtual machine to connect to i2 Analyze, complete the following:</p>
<ol>
<li><p>On your MacOS terminal, run <code>ifconfig</code> and identify the IP address for your virtual machine in a section such as <code>vmnet1</code>. For example, <code>172.16.100.1</code>.</p>
</li>
<li><p>Then, on your Windows virtual machine add the same lines above to the file with the identified IP address.  To edit the hosts file, open an Administrator Command Prompt and run <code>Notepad.exe C:\Windows\System32\drivers\etc\hosts</code>.<br>For example <code>172.16.100.1 i2analyze.eia</code>.</p>
</li>
<li>To ensure that your hosts file is configured correctly, open a command prompt in your virtual machine and run: <code>ping i2analyze.eia</code>.<br>If you get a successful response, your virtual machine is configured correctly.</li>
</ol>
<h3 id="visual-studio-code">Visual Studio Code</h3>
<p>The repository is designed to be used with VS Code to create the development environment.</p>
<ol>
<li><p>Download and install <a href="https://code.visualstudio.com/download">VS Code</a></p>
<ul>
<li>On Windows, when prompted to Select Additional Tasks during installation select the <strong>Add to PATH</strong> option so you can easily open a folder in WSL using the code command.</li>
<li>On MacOS, after you install VS Code, add it to your PATH. For more information, see <a href="https://code.visualstudio.com/docs/setup/mac#_launching-from-the-command-line">Launching from the command line</a>.</li>
</ul>
</li>
<li><p>Install the <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers">Dev Containers extension</a></p>
</li>
<li><p>On Windows, use the following instructions to open the folder in WSL.</p>
<ol>
<li>Install the <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl">WSL extension</a></li>
<li>Press <strong>F1</strong> and type <code>WSL: Connect to WSL</code> and select it.</li>
</ol>
</li>
<li><p>Press <strong>F1</strong> (or <strong>Cmd+Shift+P</strong> in MacOS) and type <code>Dev Containers: Open Folder in Container...</code> and select it. In the file explorer, navigate to your <code>analyze-containers</code> directory. For example: <code>/home/&lt;user-name&gt;/analyze-containers</code>.<br>If you are prompted, click <strong>Trust Folder &amp; Continue</strong>.</p>
</li>
<li>After the dev container starts, if you are prompted, click <strong>Install</strong> in the pop-up that is displayed that prompts you to install the recommended VS Code extensions.</li>
</ol>
<p>Your config dev environment is correctly opened when the following is displayed in the bottom left-hand corner of the VS Code window:<br><img src="../images/vscode_green.png" alt="Dev Container: Analyze Containers Dev" title="VS Code status"><br>For more information about VS Code dev containers, see <a href="https://code.visualstudio.com/docs/remote/containers">Developing in a container</a>.</p>
<ol>
<li>To run the scripts in the analyze-containers repository, use the VS Code integrated terminal. To open the integrated terminal, click <strong>Terminal</strong> &gt; <strong>New Terminal</strong>.  </li>
</ol>
<h3 id="install-analyze-containers">Install analyze-containers</h3>
<p>To download all the required images and configure your environment, run:</p>
<pre><code class="lang-sh">  ./bootstrap
</code></pre><p>This command can take a while to run depending on your internet connection and the speed of your machine.</p>
<hr>
<h2 id="what-to-do-next">What to do next</h2>
<ul>
<li>Create and use a development environment to develop an i2 Analyze configuration. For more information, see <a href="deploy_config_dev.html">Configuration development environment</a>.</li>
<li>Create an example pre-production deployment that is used to demonstrate how i2 Analyze can be deployed in a distributed cloud environment. For more information, see <a href="reference-architecture/deploy_pre_prod.html">Pre-production example environment</a>.</li>
</ul>
<p>To understand how the containerized environment is created, you can review the documentation that explains the images, containers, tools, and functions:</p>
<ul>
<li><a href="images-and-containers/images.html">Images and containers</a></li>
<li>[Tools and functions](./tools-and-functions/tools.md</li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
